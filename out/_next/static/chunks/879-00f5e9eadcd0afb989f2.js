(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{8113:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(885),s=n(9805),o=n.n(s),i=n(4184),a=n.n(i),c=n(7294),l=n(232),u=n(5893);function d(e){var t=e.loading,n=e.deloading,s=(0,c.useState)("loading"),i=s[0],d=s[1],f=(0,l.iP)(),h=(0,r.Z)(f,2),m=h[0],_=(h[1],m>768?51:23),p=.02*_*1,g=new Array(_).fill({}).map((function(e,t){var r=t%2===0;return{color:r?"red":"black",animation:("animate"===i?r?"slideoutup":"slideoutdown":void 0)||(n?r?"slideinup":"slideindown":void 0),duration:1*(n?_-t+1:t+1)*.02+"s"}}));return(0,c.useEffect)((function(){return n&&d("deloading")}),[n]),(0,c.useEffect)((function(){t||"loading"!=i||(d("animate"),console.log("animate",p),setTimeout((function(){return d("ready")}),1e3*p))}),[t]),"ready"===i?null:(0,u.jsx)("div",{className:o().loader,children:g.map((function(e,t){return(0,u.jsx)("div",{className:a()(o().stripe,o()[e.color],o()[e.animation]),style:{animationDuration:e.duration}},t)}))})}},4879:function(e,t,n){"use strict";n.d(t,{Z:function(){return K}});var r=n(885),s=n(3145),o=n.n(s),i=n(8113),a=n(4942),c=n(660),l=n.n(c),u=n(1664),d=n(4184),f=n.n(d),h=n(7294),m=n(4190),_=n(5893);function p(e){var t=e.showInfo,n=e.setShowInfo,r=e.post,s=e.setShowSearch,o=e.setShowBookmarks;if(!r)return null;var i=f()(l()["info-box"],(0,a.Z)({},l().toggled,t)),c=(0,h.useState)(!1),d=c[0],p=c[1],g=(0,h.useContext)(m.d),x=g.bookmarks,v=g.dispatch;return(0,h.useEffect)((function(){return p(!!x.filter((function(e){return e.imdb===r.imdb})).length,[r,x])})),(0,_.jsxs)("div",{className:i,onClick:function(e){return e.stopPropagation()},children:[(0,_.jsxs)("div",{className:l().icons,children:[(0,_.jsx)("div",{className:l().find,onClick:function(){return s(!0)},children:(0,_.jsx)("img",{title:"Press 'F'",src:"/images/find.svg"})}),(0,_.jsx)("div",{className:l().find,onClick:function(){return o(!0)},children:(0,_.jsx)("img",{title:"Press 'B'",src:"/images/bookmark.svg"})}),(0,_.jsx)("div",{className:f()(l().bookmark,(0,a.Z)({},l().toggled,d)),onClick:function(){return v({post:r,type:"TOGGLE"})},children:(0,_.jsx)("img",{title:"Toggle bookmark",src:"/images/plus.svg"})}),(0,_.jsx)("div",{className:l().close,onClick:function(){return n(!1)},children:(0,_.jsx)("img",{title:"Press 'ESC'",src:"/images/close.svg"})})]}),(0,_.jsx)("div",{className:l().name,children:r.title}),r.titleEnglish&&(0,_.jsx)("div",{className:l().nameorg,children:r.titleEnglish}),(0,_.jsxs)("div",{className:l().director,children:[r.director," \xb7 ",r.year]}),(0,_.jsxs)("div",{className:l().summary,onClick:function(e){return e.stopPropagation()},children:[(0,_.jsx)("div",{children:r.excerpt}),(0,_.jsxs)("div",{className:l().links,onClick:function(e){return e.stopPropagation()},children:[r.imdb&&(0,_.jsx)(u.default,{href:"https://imdb.com/title/"+r.imdb,children:(0,_.jsx)("a",{target:"_new",children:"Imdb"})}),(0,_.jsx)(u.default,{href:"https://youtube.com/results?search_query=".concat(r.title," ").concat(r.year||""),children:(0,_.jsx)("a",{target:"_new",children:"Youtube"})}),(0,_.jsx)(u.default,{href:"https://bitsearch.to/search?q=".concat(r.title," ").concat(r.year||"","&category=1&subcat=2"),children:(0,_.jsx)("a",{target:"_new",children:"Torrent"})}),(0,_.jsx)(u.default,{href:"https://thepiratebay.org/search.php?q=".concat(r.title,"&cat=201"),children:(0,_.jsx)("a",{target:"_new",children:"TPB"})})]})]})]})}var g=n(9697),x=n.n(g),v=n(131);function j(e){var t=e.src,n=e.imdbId,r=e.index,s=e.imageIndex,o=(e.setShowInfo,e.onLoad),i=e.onClick,c=(0,v.YD)({threshold:.5}),l=c.ref,u=c.inView;return(0,_.jsx)("div",{id:n,ref:l,className:f()(x().slide,(0,a.Z)({},x().entry,u),(0,a.Z)({},x().exit,!u)),onClick:i,children:(0,_.jsx)("div",{className:x().wrap,children:(0,_.jsx)("img",{src:t,onLoad:o})})},r+"-"+s)}var k=n(1163);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){var t=e.posts,n=(e.post,e.setShowInfo),r=e.setImageLoaded,s=(0,k.useRouter)(),o=s.asPath.includes("#")?s.asPath.substring(s.asPath.indexOf("#")+1):null,i=(0,h.useState)(!1),a=i[0],c=i[1];return a||o||(t=t.slice(0,1).map((function(e){return b(b({},e),{},{images:e.images.slice(0,1)})}))),(0,h.useEffect)((function(){return r(a)}),[a]),(0,h.useEffect)((function(){return setTimeout((function(){return!a&&c(!0)}),1e4)}),[]),t.map((function(e,t){return e.images.map((function(r,s){return(0,_.jsx)(j,{imdbId:e.imdb,src:r,index:t,imageIndex:s,onLoad:function(){return 0===t&&0===s&&c(!0)},onClick:function(){return n(!1)}})}))}))}var S=n(5723),E=n.n(S);function N(e){e.handleLoad;var t=e.nextPage,n=e.loading,r=e.page,s=(e.heartbeat,e.setDeloading),o=(0,k.useRouter)(),i=(0,h.useState)(!1),c=i[0],l=i[1],u=f()((0,a.Z)({},E().clicked,c)),d=f()(E()["lds-hourglass"],E().heartbeat);(0,h.useEffect)((function(){return o.prefetch("/page/".concat(t)).then()}),[]);var m=function(){l(!0),s(!0),setTimeout((function(){return o.push("/page/".concat(t))}),1300)};return console.log(u),(0,_.jsx)("div",{className:E().pager,onClick:function(e){return e.stopPropagation()},children:(0,_.jsxs)("a",{onMouseDown:m,onTouchStart:m,children:[!n&&(0,_.jsx)("div",{className:u,children:(0,_.jsx)("span",{children:r})}),n&&(0,_.jsx)("div",{className:d})]})})}var P=n(4050),I=n.n(P),L=n(9440),B=n.n(L);function C(e){var t=e.header,n=e.show,r=e.setShow,s=e.children;return n?(0,_.jsx)("div",{className:B().popup,onClick:function(e){return e.stopPropagation()},children:(0,_.jsxs)("div",{className:B().wrap,children:[(0,_.jsxs)("div",{className:B().header,children:[t,(0,_.jsx)("div",{className:B().close,onClick:function(e){return r(!1)},children:(0,_.jsx)("img",{src:"/images/close.svg"})})]}),(0,_.jsx)("div",{className:B().content,children:s})]})}):null}var Z=n(5861),O=n(7757),D=n.n(O),T=n(4221);function q(e){var t=e.showSearch,n=e.setShowSearch;if(!t)return null;var s=(0,h.useRef)(),o=function(){var e=(0,h.useState)({q:"",result:[]}),t=e[0],n=e[1],r=(0,h.useState)(void 0),s=r[0],o=r[1],i=(0,h.useState)([]),a=(i[0],i[1],(0,h.useState)(null)),c=a[0],l=a[1];return(0,h.useEffect)((0,Z.Z)(D().mark((function e(){var t,n,r,s;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/movies.json");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r={includeScore:!0,threshold:0,keys:["ten","d","y"]},console.time("fuse"),s=new T.Z(n,r),console.timeEnd("fuse"),o(s);case 11:case"end":return e.stop()}}),e)}))),[]),[t,function(){var e=(0,Z.Z)(D().mark((function e(t){var r;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({q:t,result:[]}),clearTimeout(c),r=setTimeout((function(){return n({q:t,result:s&&t?s.search(t).slice(0,30):[]})}),250),l(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}(),i=(0,r.Z)(o,2),a=i[0],c=i[1];return(0,_.jsxs)(C,{header:"Search",show:t,setShow:n,children:[(0,_.jsx)("form",{className:I().searchForm,onSubmit:function(e){return e.preventDefault()},children:(0,_.jsx)("input",{type:"text",value:a.q,onChange:function(e){return c(e.target.value)},ref:s,placeholder:"Type it..."})}),(0,_.jsx)("ul",{className:I().list,children:a.result.map((function(e){return(0,_.jsx)("li",{className:I().item,children:(0,_.jsx)(u.default,{href:"/page/".concat(e.item.p,"#").concat(e.item.i),prefetch:!0,children:(0,_.jsx)("a",{children:(0,_.jsxs)("div",{className:I().title,children:[e.item.ten||e.item.t,(0,_.jsxs)("div",{className:I().director,children:[e.item.d," (",e.item.y,")"]})]})})})})}))})]})}var G=n(6863),F=n.n(G);function R(e){var t=e.showBookmarks,n=e.setShowBookmarks,r=(0,h.useContext)(m.d),s=r.bookmarks,o=r.dispatch;return t?(0,_.jsx)(C,{header:"Bookmarks",show:t,setShow:n,children:(0,_.jsx)("ul",{className:F().list,children:s.length?s.map((function(e){return(0,_.jsxs)("li",{className:F().item,children:[(0,_.jsx)(u.default,{href:"/page/".concat(e.page,"#").concat(e.imdb),prefetch:!0,children:(0,_.jsx)("a",{children:(0,_.jsxs)("div",{className:F().title,children:[e.titleEnglish||e.title,(0,_.jsxs)("div",{className:F().director,children:[e.director," (",e.year,")"]})]})})}),(0,_.jsx)("div",{className:F().delete,onClick:function(){return o({id:e.imdb,type:"DELETE"})},children:(0,_.jsx)("img",{src:"/images/minus.svg"})})]})})):(0,_.jsx)("div",{className:F().empty,children:"Nix hier..."})})}):null}var z=n(9008),A=n(3176),M=n(6135),Q=n(232),H=n(5172);function K(e){var t=e.posts,n=e.images,s=e.page,a=e.totalPages,c=(e.newest,(0,k.useRouter)()),l=(0,h.useState)(Math.floor(Math.random()*a))[0],u=(0,h.useState)(!0),d=u[0],m=u[1],g=(0,h.useState)(!1),x=g[0],v=g[1],j=(0,h.useState)(!1),w=j[0],b=j[1],S=(0,h.useState)(!1),E=S[0],P=S[1],I=(0,h.useState)(void 0),L=I[0],B=I[1],C=(0,h.useState)(!1),Z=C[0],O=C[1],D=(0,h.useState)(!1),T=D[0],G=D[1],F=(0,h.useState)(!1),K=F[0],Y=F[1],J=(0,Q.iP)(),U=(0,r.Z)(J,2),W=(U[0],U[1]),X=(0,A.Z)(),$=(0,r.Z)(X,1)[0],ee=(0,M.Z)(30),te=void 0!=L?t[L[Math.floor(ee+W/2)]]:void 0,ne=ee>W*n-3*W&&!T;return(0,h.useEffect)((function(){return G(!0)}),[ne]),(0,h.useEffect)((function(){return B(V(t,W))}),[W]),(0,h.useEffect)((function(){return m(!0)}),[s]),(0,h.useEffect)((function(){return Z&&setTimeout((function(){return m(!1)}),0)}),[Z]),(0,H.y1)("s",(function(){return Y((function(e){return!e}))})),(0,H.y1)("b",(function(){return P((function(e){return!e}))})),(0,H.y1)("esc",(function(){return b(!1)})),(0,H.y1)("right",(function(){return c.push("/page/".concat(s+1))})),(0,H.y1)("left",(function(){return c.push("/page/".concat(s-1))})),(0,h.useEffect)((function(){"controlling"===$&&window.location.reload()}),[$]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(z.default,{children:[(0,_.jsx)("link",{rel:"shortcut icon",href:"/favicon.ico"}),(0,_.jsx)("title",{children:"Cihenema"})]}),(0,_.jsxs)("main",{className:f()(o().container,o().scroll),onClick:function(){return b(!w)},children:[(0,_.jsx)(y,{posts:t,setShowInfo:b,setImageLoaded:O,post:te}),(0,_.jsx)(p,{setShowInfo:b,showInfo:w,post:te,setShowSearch:Y,setShowBookmarks:P}),(0,_.jsx)(N,{nextPage:l,loading:d,page:s,heartbeat:T,setDeloading:v}),(0,_.jsx)(q,{showSearch:K,setShowSearch:Y}),(0,_.jsx)(R,{showBookmarks:E,setShowBookmarks:P}),(0,_.jsx)(i.Z,{loading:d,deloading:x})]})]})}var V=function(e,t){e.reduce((function(e,t){return e+t.images.length}));var n={},r=0;return e.forEach((function(e,s){for(var o=0;o<e.images.length*t;o++,r++)n[r]=s})),n}},3176:function(e,t,n){"use strict";var r=n(7294);t.Z=function(){var e=(0,r.useState)(void 0),t=e[0],n=e[1];return(0,r.useEffect)((function(){if("serviceWorker"in navigator&&void 0!==window.workbox){var e=window.workbox;e.addEventListener("installed",(function(e){n(e.type)})),e.addEventListener("controlling",(function(e){n(e.type)})),e.addEventListener("activated",(function(e){n(e.type)}));e.addEventListener("waiting",(function(t){console.log("A newer version of this web app is available"),n(t.type),e.addEventListener("controlling",(function(e){n(e.type)})),e.messageSkipWaiting()})),e.addEventListener("message",(function(e){n(e.type),console.log("Event ".concat(event.type," is triggered.")),console.log(event)})),e.register()}}),[]),[t,n]}},9805:function(e){e.exports={loader:"Loader_loader__2fPz6",stripe:"Loader_stripe__Gklgu",green:"Loader_green__2FA2M",red:"Loader_red__3i1iC",black:"Loader_black__2Eynh",slidein:"Loader_slidein__3dLlY",slideindown:"Loader_slideindown__1x3kA",slideinup:"Loader_slideinup__19_Hk",slideout:"Loader_slideout__3SbJZ",slideoutup:"Loader_slideoutup__34VID",slideoutdown:"Loader_slideoutdown__2wYDU"}},9697:function(e){e.exports={slide:"GalleryImage_slide__j4aBs",wrap:"GalleryImage_wrap__3wzvP",entry:"GalleryImage_entry__1aZmM",exit:"GalleryImage_exit__3zQk7"}},660:function(e){e.exports={"info-box":"InfoBox_info-box__26AkS",toggled:"InfoBox_toggled__3RCt7",summary:"InfoBox_summary__3LRQ0",icons:"InfoBox_icons__RRni-",name:"InfoBox_name__13Iyr",director:"InfoBox_director__3Qzuz",nameorg:"InfoBox_nameorg__ofEkQ",links:"InfoBox_links__1URy7",bookmark:"InfoBox_bookmark__F7Z8m"}},5723:function(e){e.exports={pager:"Pager_pager__16iGo",clicked:"Pager_clicked__2vUa2",heartbeat:"Pager_heartbeat__2s-80","lds-hourglass":"Pager_lds-hourglass__3XSV5",ldshourglass:"Pager_ldshourglass__yKnHt"}},3145:function(e){e.exports={container:"page_container__7KHlz",home:"page_home__1Qnsb"}},6863:function(e){e.exports={list:"Bookmarks_list__3acAa",item:"Bookmarks_item__3KBHa",title:"Bookmarks_title__1aA8m",director:"Bookmarks_director__3kLcP",delete:"Bookmarks_delete__1OFO9",empty:"Bookmarks_empty__2KzZo"}},4050:function(e){e.exports={searchForm:"Search_searchForm__zEEgJ",reset:"Search_reset__14EVc",list:"Search_list__ave_4",item:"Search_item__2ebWM",title:"Search_title__3FxfI",director:"Search_director__pEqNj"}},9440:function(e){e.exports={popup:"popups_popup__3-ql0",wrap:"popups_wrap__8uBP8",header:"popups_header__1uGJ5",close:"popups_close__1-qGr",content:"popups_content__CX2So"}}}]);